# JSON to Log Converter for ObjWatch

\[ English | [中文](README_zh.md) \]

This tool converts ObjWatch JSON output files to human-readable log format, making it easier to analyze and understand the tracing results.

## Features

- Converts ObjWatch JSON output to readable log format
- Preserves call hierarchy with indentation and call depth markers
- Formats configuration information in a structured way
- Includes runtime information such as version, start time, and system info
- Handles different event types (function calls, returns, variable updates, etc.)
- Command-line interface with customizable output path

## Usage

```bash
python3 json_to_log.py <json_file> [-o <output_file>]
```

### Arguments

- `<json_file>`: Path to the input JSON file generated by ObjWatch
- `-o, --output <output_file>`: (Optional) Path to the output log file
  - If not specified, the tool will create a log file with the same base name as the input JSON file but with a `.objwatch` extension

### Example

```bash
# Convert objwatch.json to log.objwatch
python3 json_to_log.py objwatch.json

# Convert objwatch.json to custom_output.objwatch
python3 json_to_log.py objwatch.json -o custom_output.objwatch
```

## Output Format

The generated log file includes:

1. Header section with runtime information
2. Configuration details in a structured format
3. Event log with indentation to represent call depth
4. Color-coding (terminal output) to distinguish different event types

Each log entry starts with the line number followed by indentation that represents the call depth, making it easy to follow the execution flow.

## Event Types

The converter handles the following event types:

- **Function calls** (`run`): When a function or method starts execution
- **Function returns** (`end`): When a function or method completes execution
- **Variable updates** (`upd`): When variables are modified
- **Collection operations** (`apd`/`pop`): When elements are added to or removed from collections
